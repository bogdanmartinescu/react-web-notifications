{"version":3,"file":"react-web-notifications.js","sources":["../src/react-web-notifications.tsx"],"sourcesContent":["import * as React from 'react';\n\ninterface Props {\n    title: string;\n    icon?: string;\n    body?: string;\n    timeout?: number;\n    onClickFn?: () => any;\n}\n\ninterface iOptions {\n    title: string;\n    icon?: string;\n    body?: string;\n    timeout?: number;\n}\n\nconst WebNotification: React.FC<Props> = ({ title, icon, body, timeout, onClickFn }: Props) => {\n    let notification: any = null;\n\n    let options: iOptions = {\n        title,\n        body,\n        timeout\n    };\n\n    React.useEffect(() => {\n        if (window.Notification) {\n            window.Notification.requestPermission((result) => {\n                if (result !== 'granted') return;\n                show();\n            });\n        }\n    }, [title]);\n\n    const show = () => {\n        if (!title) return;\n\n        options.icon = icon;\n        options.body = body;\n        options.timeout = timeout;\n\n        if (!notification) {\n            notification = new window.Notification(title, options);\n\n            if (onClickFn) {\n                notification.addEventListener('click', onClickFn, false);\n            }\n\n            window.setTimeout(() => {\n                notification.close();\n            }, timeout || 5000);\n        }\n    };\n\n    return null;\n}\n\nexport default WebNotification;"],"names":["React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAiBM,IAAA,eAAe,GAAoB,UAAC,EAAgD,EAAA;AAA9C,IAAA,IAAA,KAAK,GAAA,EAAA,CAAA,KAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAA,EAAE,IAAI,GAAA,EAAA,CAAA,IAAA,EAAE,OAAO,GAAA,EAAA,CAAA,OAAA,EAAE,SAAS,GAAA,EAAA,CAAA,SAAA,CAAA;IAC7E,IAAI,YAAY,GAAQ,IAAI,CAAC;AAE7B,IAAA,IAAI,OAAO,GAAa;AACpB,QAAA,KAAK,EAAA,KAAA;AACL,QAAA,IAAI,EAAA,IAAA;AACJ,QAAA,OAAO,EAAA,OAAA;KACV,CAAC;IAEFA,gBAAK,CAAC,SAAS,CAAC,YAAA;QACZ,IAAI,MAAM,CAAC,YAAY,EAAE;AACrB,YAAA,MAAM,CAAC,YAAY,CAAC,iBAAiB,CAAC,UAAC,MAAM,EAAA;gBACzC,IAAI,MAAM,KAAK,SAAS;oBAAE,OAAO;AACjC,gBAAA,IAAI,EAAE,CAAC;AACX,aAAC,CAAC,CAAC;AACN,SAAA;AACL,KAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAEZ,IAAA,IAAM,IAAI,GAAG,YAAA;AACT,QAAA,IAAI,CAAC,KAAK;YAAE,OAAO;AAEnB,QAAA,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;AACpB,QAAA,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;AACpB,QAAA,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC;QAE1B,IAAI,CAAC,YAAY,EAAE;YACf,YAAY,GAAG,IAAI,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AAEvD,YAAA,IAAI,SAAS,EAAE;gBACX,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;AAC5D,aAAA;YAED,MAAM,CAAC,UAAU,CAAC,YAAA;gBACd,YAAY,CAAC,KAAK,EAAE,CAAC;AACzB,aAAC,EAAE,OAAO,IAAI,IAAI,CAAC,CAAC;AACvB,SAAA;AACL,KAAC,CAAC;AAEF,IAAA,OAAO,IAAI,CAAC;AAChB;;;;"}